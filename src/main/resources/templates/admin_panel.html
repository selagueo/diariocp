<!DOCTYPE html>
<html lang="en" xmlns:th="http:/www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">

    <title>Conciencia Politica</title>
    <meta content="" name="descriptison">
    <meta content="" name="keywords">

    <!-- Favicons -->
    <link href="/img/logo.jpg" rel="icon">
    <link href="/img/logo.jpg" rel="apple-touch-icon">

    <!-- Google Fonts -->
    <link
        href="https:/fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,600,600i,700,700i,900"
        rel="stylesheet">

    <!-- Vendor CSS Files -->
    <link href="/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/vendor/icofont/icofont.min.css" rel="stylesheet">
    <link href="/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
    <link href="/vendor/animate.css/animate.min.css" rel="stylesheet">
    <link href="/vendor/venobox/venobox.css" rel="stylesheet">
    <link href="/vendor/owl.carousel/owl.carousel.min.css" rel="stylesheet">
    <link href="/vendor/aos/aos.css" rel="stylesheet">

    <!-- Template Main CSS File -->
    <link href="/css/style.css" rel="stylesheet">
</head>

<div th:insert="static/header :: header"></div>
<div th:insert="static/inner-page :: inner-page"></div>

<main id="main">
    <section class="inner-page">
        <div class="container">

            <div>
                <table class="table table-striped table table-hover">
                    <tr>
                        <th scope="col" style="text-align: center">Estado</th>
                        <th scope="col">Nombre</th>
                        <th scope="col">Apellido</th>
                        <th scope="col">Mail</th>
                        <th style="text-align: center" scope="col">Ver Perfil</th>
                        <th style="text-align: center" scope="col">Modificar</th>
                        <th style="text-align: center" scope="col">OFF / ON</th>
                    </tr>
                    <tr th:each="user: ${usersByTag}">
                        <td style="text-align: center" class="estado" th:if="${user.unRegistration == null}"><svg width="1.5em" height="1.5em" viewBox="0 0 16 16"
                                class="bi bi-check-circle-fill" fill="green" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd"
                                    d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z" />
                            </svg>
                        </td>
                        <td style="text-align: center" class="estado" th:if="${user.unRegistration != null}">
                            <svg width="1.5em" height="1.5em" viewBox="0 0 16 16" class="bi bi-x-circle-fill" fill="red" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.146-3.146a.5.5 0 0 0-.708-.708L8 7.293 4.854 4.146a.5.5 0 1 0-.708.708L7.293 8l-3.147 3.146a.5.5 0 0 0 .708.708L8 8.707l3.146 3.147a.5.5 0 0 0 .708-.708L8.707 8l3.147-3.146z"/>
                            </svg>
                        </td>

                        <td th:text="${user.name}"></td>
                        <td th:text="${user.lastName}"></td>
                        <td><a th:text="${user.mail}" th:href="'mailto:'+${user.mail}"></a></td>
                        <!--<td th:text="${user.mail}" style="font-style: italic" th:value="${user.mail}"></td>-->
                        
                        <td style="text-align: center" class="informacion" id="actionInformation", th:attr="onclick=|goProfile('${user.userName}')|" >
                            <svg width="1.25em" height="1.25em" viewBox="0 0 16 16"
                                class="bi bi-info-circle-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd"
                                    d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM8 5.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2z" />
                            </svg>
                        </td>

                        <td style="text-align: center" class="modificar" id="actionModificar" th:attr="onclick=|sendAction('${user.id}', 'actionModificar')|">
                            <svg width="1.25em" height="1.25em" viewBox="0 0 16 16"
                                class="bi bi-pencil-square" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z" />
                                <path fill-rule="evenodd"
                                    d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z" />
                            </svg>
                        </td>

                        <td style="text-align: center"  class="baja" th:if="${user.unRegistration == null}" id="actionBaja" th:attr="onclick=|sendAction('${user.id}', 'actionBaja')|">
                            <svg width="2.2em" height="2.2em" viewBox="0 0 16 16"
                                class="bi bi-toggle-on" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd"
                                    d="M5 3a5 5 0 0 0 0 10h6a5 5 0 0 0 0-10H5zm6 9a4 4 0 1 0 0-8 4 4 0 0 0 0 8z" />
                            </svg>
                        </td>
                        <td style="text-align: center"  class="baja" th:if="${user.unRegistration != null}" id="actionBaja" th:attr="onclick=|sendAction('${user.id}', 'actionBaja')|">
                            <svg width="2.2em" height="2.2em" viewBox="0 0 16 16" class="bi bi-toggle-off" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M11 4a4 4 0 0 1 0 8H8a4.992 4.992 0 0 0 2-4 4.992 4.992 0 0 0-2-4h3zm-6 8a4 4 0 1 1 0-8 4 4 0 0 1 0 8zM0 8a5 5 0 0 0 5 5h6a5 5 0 0 0 0-10H5a5 5 0 0 0-5 5z"/>
                            </svg>
                        </td>
                    </tr>
                </table>

                <br><br><a href="/register">Create nuevo Editor</a>
            </div>

        </div>
    </section>
</main>

<div th:insert="static/footer :: footer"></div>

<a href="#" class="back-to-top"><i class="icofont-simple-up"></i></a>

<!-- Vendor JS Files -->
<script src="/vendor/jquery/jquery.min.js"></script>
<script src="/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="/vendor/jquery.easing/jquery.easing.min.js"></script>
<script src="/vendor/php-email-form/validate.js"></script>
<script src="/vendor/jquery-sticky/jquery.sticky.js"></script>
<script src="/vendor/venobox/venobox.min.js"></script>
<script src="/vendor/waypoints/jquery.waypoints.min.js"></script>
<script src="/vendor/counterup/counterup.min.js"></script>
<script src="/vendor/owl.carousel/owl.carousel.min.js"></script>
<script src="/vendor/isotope-layout/isotope.pkgd.min.js"></script>
<script src="/vendor/aos/aos.js"></script>

<!-- Template Main JS File -->
<script src="/js/main.js"></script>

</body>

<form action="/admin_action" method="Post" name="sendIdAndAction">
<input type="hidden" name="userId">
<input type="hidden" name="action">
</form>

<script>
    function goProfile(username){
        window.location.href = "/"+username;
    }

    function sendAction(id, action){
        document.sendIdAndAction.userId.value=id;
        document.sendIdAndAction.action.value=action;
        document.sendIdAndAction.submit();
    }   
</script>

</html>
